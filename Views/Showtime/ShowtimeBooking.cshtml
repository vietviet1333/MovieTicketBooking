@{
    Layout = "~/Views/Shared/_ClientLayout.cshtml";

}

@model MovieTicketBooking.Models.Showtime
@{
    var combo = MovieTicketBooking.Dao.FoodDrinkDao.Instance().GetFoodDrink();
    var seatselected = MovieTicketBooking.Dao.BookingseatDao.Instance().GetSeatsOfBooking(Model.showtime_id);
    var emtyseat = MovieTicketBooking.Dao.BookingDao.Instance().EmptySeatOfShowtime(Model.showtime_id);
   

}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
<style>
    .containek {
        width: 80%;
        margin: auto;
        /*        background-color: rgb(234, 229, 222);*/
        border: 2px solid black;
    }

    #selectedList span {
        font-size: 16px;
        margin: 2px;
        font-weight: initial;
    }

    .lefttop {
        display: flex;
        width: 100%;
        justify-content: space-evenly;
    }

    .ghichu {
        display: grid;
        text-align: center;
        color: rgb(85, 85, 85);
    }

    .containekhead {
        height: 40px;
        width: 100%;
        background-color: black;
        color: antiquewhite;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .containekleft {
        padding: 20px 20px;
        /*        border-right: 2px solid rgb(190, 190, 190);*/
        width: 70%;
    }

    .containekright {
        width: 30%;
    }

    .containekmain {
        display: flex;
    }

    .leftscreen {
        height: 30px;
        width: 100%;
        margin-top: 10px;
        background-color: rgb(125, 125, 125);
        border-top-left-radius: 1000%;
        border-top-right-radius: 1000%;
    }

    .screenlayout {
        height: 30px;
        width: 100%;
        margin-top: 10px;
        background-color: white;
        border-top-left-radius: 1000%;
        border-top-right-radius: 1000%;
        position: relative;
        top: -30px;
        text-align: center;
        color: rgb(183, 73, 0);
        font-size: 20px;
        font-weight: bold;
    }

    .screen {
        margin-top: 20px;
    }

    #gridcontainek {
        max-width: fit-content;
        margin: auto;
        overflow-x: scroll;
    }

    .infoshowtime {
        width: 100%;
        height: 60px;
        font-size: 15px;
        font-weight: bold;
        color: rgb(0, 0, 0);
        margin-top: 10px;
    }

    .rap {
        width: auto;
        margin-top: 10px;
        text-align: center;
        align-items: center;
        display: flex;
        justify-content: center;
    }

    .phiminfo {
        width: 100%;
        margin-top: 30px;
        display: flex;
    }

        .phiminfo img {
            width: 50%;
            padding: 10px 10px
        }

    .namephim {
        width: 50%;
        height: auto;
        padding: 5px 5px;
        color: rgb(255, 106, 0);
        font-size: 20px;
        font-weight: bold;
        overflow: hidden;
    }

    .namecon {
        width: auto;
        word-wrap: break-word;
    }

    .infomore {
        margin: auto;
        width: 100%;
        height: 20px;
        padding: 10px 20px;
        font-size: 15px;
        font-weight: bold;
        height: auto
    }

    .foo {
        display: flex;
        height: auto;
        width: 80%;
        justify-content: space-evenly;
        margin: auto;
        border: 2px solid black;
        border-top: none;
    }

        .foo button {
            background-color: white;
            border: none;
            font-size: 40px;
            width: 15%;
            color: rgb(255, 145, 0);
            cursor: pointer;
        }

    .phimfoo {
        height: 100%;
        width: 30%;
        font-size: 17px;
        font-weight: bold;
    }

        .phimfoo div {
            margin: 10px 10px;
        }

    .ticketfoo {
        height: 100%;
        width: 40%;
        font-size: 17px;
        font-weight: bold;
    }

        .ticketfoo div {
            margin: 10px 10px;
        }

    #ticketbill {
        justify-content: space-between;
        margin: 10px 10px;
        border-bottom: 1px dashed #b8b8b8;
        display: flex;
        padding: 10px 10px;
    }

    ::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
        background-color: #F5F5F5;
        border-radius: 10px;
    }

    ::-webkit-scrollbar {
        width: 10px;
        background-color: #F5F5F5;
    }

    ::-webkit-scrollbar-thumb {
        border-radius: 10px;
        background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0.44, rgb(217, 166, 122)), color-stop(0.72, rgb(189, 133, 73)), color-stop(0.86, rgb(148, 92, 28)));
    }

    .containekmain2 {
        width: 100%;
        background-color: white;
        height: auto;
        display: none;
    }

    .containekmain2head {
        height: 70px;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        border-bottom: 2px solid black;
        font-weight: bold;
        font-size: 20px
    }

    .foodlist {
        width: 100%;
        height: auto;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-evenly
    }

    .fooditems {
        width: 30%;
        height: auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f7f0ff;
        margin: 5px;
        padding: 5px;
        border-radius: 10px;
    }

        .fooditems img {
            width: 40%;
            height: auto;
            border-radius: 10px;
        }

    .fooddescription {
        width: 50%;
    }

    .numberi {
        width: 20%;
        padding: 7%;
        margin: 10px;
        border: none;
        height: 40px;
    }


    .btns {
        background-color: rgb(255, 153, 0);
        border: none;
        color: white;
        cursor: pointer;
        height: 30px;
        width: 30px;
        border-radius: 5px;
    }

    .namecombo {
        font-size: 17px;
        font-weight: bold;
        color: orange;
    }

    .descombo {
        font-size: 14px;
    }

    #checkcount {
        height: auto;
        width: 30%;
        background-color: white;
        display: none;
        margin: auto;
        margin-top: 140px;
        border-top: 9px solid #ff9900;
        border-radius: 5%;
        box-shadow: rgba(255, 153, 0, 0.7) 0px 1px 4px;
    }

        #checkcount img {
            width: 30%;
            margin: 2%;
        }

    #phimcheckcount {
        width: 50%;
        height: auto;
        margin: 10px 10px;
    }

    #namephimcheckcount {
        font-size: 20px;
        font-weight: bold;
        color: #ff7d00;
        margin: 10px 10px;
        width: auto;
        word-wrap: break-word;
    }

    #durationphimcheckcount {
        font-weight: bold;
        color: black;
        margin: 10px 10px;
        width: auto;
        word-wrap: break-word;
    }

    #genrephimcheckcount {
        font-weight: bold;
        color: black;
        margin: 10px 10px;
        width: auto;
        word-wrap: break-word;
    }

    #theaterofcheckcount {
        font-weight: bold;
        font-size: 17px;
        margin: 0px 10px;
        color: #3c3c3c;
    }

    #roomofcheckcount {
        font-size: 17px;
        font-weight: 500;
        color: #505050;
        margin: 0px 10px;
    }

    #starttimecheckcount {
        font-weight: bold;
        margin: 0px 20px;
    }

    #showdatecheckcount {
        font-weight: bold;
    }

    #checkcountbtngroup {
        display: none
    }

    #checkcountbtngroup {
        display: none;
        width: 100%;
        margin-top: 20px;
        justify-content: center;
    }

    #btncomback {
        border: none;
        height: 40px;
        color: #ff9400;
        background-color: white;
        margin: 0px 30px;
        width: 100px;
        cursor: pointer;
    }

    #btncheckcount {
        border: none;
        background-color: #ff7f00;
        border-radius: 10px;
        color: white;
        width: 100px;
        margin: 0px 30px;
    }
</style>

<div id="fu">
    <div class="containek">
        <div class="containekhead">
            BOOKING ONLINE
        </div>

        <div class="containekmain" id="containekmain">
            <div class="containekleft">
                <div class="lefttop">
                    <span class="ghichu">
                        <i class="fa-solid fa-square"
                           style="color: rgb(169, 0, 0);font-size: 35px;"></i>
                        <label for="">Checked</label>
                    </span>
                    <span class="ghichu">
                        <i class="fa-solid fa-square"
                           style="color: rgb(139, 139, 139);font-size: 35px;"></i><label for="">Selected</label>
                    </span>
                    <span class="ghichu">
                        <i class="fa-regular fa-square" style="color: rgb(154, 205, 153);font-size: 35px;"></i><label for="">
                            Empty
                            seat
                        </label>
                    </span>
                </div>
                <div class="screen">
                    <div class="leftscreen"></div>
                    <div class="screenlayout">Screen</div>
                </div>
                <div id="gridcontainek"></div>
                <input id="disablegriditem" value="@seatselected" hidden />
                <input type="hidden" id="rowsInput" value="@Model.Room.number_row" hidden>
                <input type="hidden" id="columnsInput" value="@Model.Room.number_column" hidden>
            </div>

            <div class="containekright">
                <div class="topright">
                    <div class="infoshowtime">
                        <div style="display: flex;justify-content: space-evenly;">
                            <div class="rap"><span>@Model.Theater.name</span></div>
                            <div class="rap"><span>@Model.Room.room_name</span></div>
                            <div class="rap"><span>Empty seat: @emtyseat/@(Model.Room.number_row * Model.Room.number_column)</span></div>
                        </div>
                        <div style="display: flex;justify-content: space-evenly;">
                            @{
                                var showdate = Model.show_date?.ToString("yyyy-MM-dd");
                                var starttime = Model.starttime?.ToString("hh:mm tt");
                                var endtime = Model.endtime?.ToString("hh:mm tt");

                            }
                            <div class="rap">@showdate</div>
                            <div class="rap">@starttime</div>
                            <div class="rap">@endtime</div>
                        </div>
                    </div>
                    <div class="phiminfo">
                        <img src="@Model.Movie.poster_image"
                             alt="">
                        <div class="namephim">
                            <div class="namecon">@Model.Movie.title</div>
                        </div>
                    </div>
                    <div>
                        <div class="infomore">
                            Duration: @Model.Movie.duration munites
                        </div>
                        <div class="infomore">
                            Genre: @Model.Movie.genre
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="containekmain2" id="containekmain2">
            <div class="containekmain2head">
                <span>Food and Drinks</span>
            </div>
            <div class="foodlist" id="foodList">
                @for (int i = 0; i < combo.Count; i++)
                {
                    <div class="fooditems">
                        <img src="https://firebasestorage.googleapis.com/v0/b/movieticketbooking-7da83.appspot.com/o/menuboard-combo1-2-2024-coonline-combo2_1710302669633.jpg?alt=media&token=4411c416-6a40-4b24-85ac-1dac89009ac8"
                             alt="">
                        <div class="fooddescription">
                            <input id="P@(i)" value="@combo[i].price" hidden />
                            <input id="Idbookingcombo@(i)" class="idofcombo" value="@combo[i].fooddrink_id" hidden />
                            <div class="namecombo" id="N@(i)">@combo[i].fooddrink_name</div>
                            <div class="descombo">@combo[i].fooddrink_description </div>
                            <div style="display: flex; justify-content: center; align-items: center;">
                                <button class="btns" id="B@(i)" type="button" onclick="decrement(@(i))">-</button>
                                <input class="numberi" id="I@(i)" value="0" readonly>
                                <button class="btns" id="b@(i)" type="button" onclick="increment(@(i))">+</button>
                            </div>
                        </div>
                    </div>
                }





            </div>
        </div>

    </div>
    <div class="foo">
        <button type="button" onclick="seat()"><i class="fa-solid fa-circle-left"></i></button>
        <div class="phimfoo">
            <div>Movie name: @Model.Movie.title</div>
            <div>Duration: @Model.Movie.duration mutines</div>
            <div>Genre: @Model.Movie.genre</div>
            <div>Theater: @Model.Theater.name</div>
            <div>Ticket date: @showdate</div>
        </div>
        <div class="ticketfoo">
            <div id="ticketbill">
                <div style="width: 80%; color: rgb(255, 145, 0);">Seat: <span id="selectedList"></span></div>
                <div style="color: rgb(255, 145, 0);"><span id="price"></span>$</div>
            </div>
            <div id="ticketbill">
                <div style="width: 80%; color: rgb(255, 145, 0);">Com bo:<div id="selectcombo"></div> </div>
                <div style="color: rgb(255, 145, 0);"><span id="pricecombo"></span>$</div>
            </div>
            <div id="ticketbill" style="border:none">
                <div style="width: 80%; color: rgb(255, 145, 0);">Total: </div>
                <div style="color: rgb(255, 145, 0);"><span id="totalpricefull"></span>$</div>
            </div>
        </div>
        <button type="button" onclick="combodrink()"><i class="fa-solid fa-circle-right"></i></button>
    </div>
</div>
<div id="checkcount">
    <div style="display:flex; justify-content:start">
        <img src="@Model.Movie.poster_image" />
        <div id="phimcheckcount">
            <div id="namephimcheckcount">@Model.Movie.title</div>
            <div id="durationphimcheckcount">Duration: @Model.Movie.duration minutes</div>
            <div id="genrephimcheckcount">Genre: @Model.Movie.genre</div>
        </div>
    </div>
    <div id="infoticketcheckcount">
        <div style="display: flex; justify-content: start; padding: 20px; margin: auto">
            <div id="theaterofcheckcount">@Model.Theater.name</div>
            <div> - </div>
            <div id="roomofcheckcount">@Model.Room.room_name</div>
        </div>
        <div style="display: flex; margin: 10px 25px; ">
            <div>Performance:</div>
            <div id="starttimecheckcount">@starttime</div>
            <div id="showdatecheckcount">@showdate</div>
        </div>
    </div>
    <div style=" margin-top: 20px; width: 100%; justify-content: center; display: flex;border-top:1px solid">
        <div style="width:90%;">
            <div style="display: flex; height: auto;align-items: center;  padding: 20px 20px;width:100%">
                <div style="width: 80%; color: rgb(255, 145, 0);">Seat: <span id="selectedListcheckcount"></span></div>
                <div style="color: rgb(255, 145, 0);"><span id="pricecheckcount"></span>$</div>
            </div>
            <div style="display: flex; height: auto; border-top: 1px dashed; align-items: center; padding: 20px 20px; width: 100%">
                <div style="width: 80%; color: rgb(255, 145, 0);">Combo:<div id="selectcombocheckcount"></div> </div>
                <div style="color: rgb(255, 145, 0);"><span id="pricecombocheckcount"></span>$</div>
            </div>
            <div style="display: flex; height: auto; border-top: 1px dashed; align-items: center; padding: 20px 20px; width: 100%">
                <div style="width: 80%; color: rgb(255, 145, 0);">Total: </div>
                <div style="color: rgb(255, 145, 0);"><span id="totalpricefullcheckcount"></span>$</div>
            </div>
        </div>
    </div>
</div>
<div id="checkcountbtngroup">
    <form method="post" action="/Showtime/BookingCheckcount" id="myForm">

        <input value="@Model.Room.room_id" name="room_id" hidden />
        <input id="listseat" name="nameseats" hidden />
        <input name="showtime_id" id="sh" value="@Model.showtime_id" hidden />
        <input id="listidcombo" name="idcombos" hidden />
        <input id="listquantitycombo" name="quantitycombos" hidden />
        <input name="totalofbooking" id="total_of_booking" hidden />
        <input name="id_user" value="@HttpContext.Current.Session["LoggedInUserID"]" hidden />

        <button id="btncomback" onclick="combodrink()">Come Back</button>
        <button id="btncheckcount" type="button" onclick="checkseats()">Checkcount</button>
    </form>
</div>

<script>
    var priceseat = 0;
    function createGrid() {
        // Get the values of rows and columns from input fields
        const rows = document.getElementById('rowsInput').value;
        const columns = document.getElementById('columnsInput').value;

        // Get the containek where the grid will be placed
        const gridcontainek = document.getElementById('gridcontainek');

        // Clear previous grid if any
        gridcontainek.innerHTML = '';

        // Create a table element
        gridcontainek.style.display = 'grid';
        gridcontainek.style.gridTemplateColumns = `repeat(${columns}, 40px)`;
        gridcontainek.style.gridTemplateRows = `repeat(${rows}, 40px)`;
        const selectedList = document.getElementById('selectedList');
        const selectedListcheckcount = document.getElementById("selectedListcheckcount");
        const price = document.getElementById('price');
        const pricecheckcount = document.getElementById("pricecheckcount");
        var listseat = document.getElementById("listseat");

        const disabledGridItems = document.getElementById("disablegriditem").value;
        const disabledGridArray = disabledGridItems.split(',');
        // Array to store selected button data
        const selectedData = [];
        const totalSquares = columns * rows;

        for (let i = 0; i < totalSquares; i++) {
            const gridItem = document.createElement('button');
            gridItem.textContent = "A" + i;
            gridItem.style.width = "35px";
            gridItem.style.height = "35px";
            gridItem.style.textAlign = 'center';
            gridItem.style.fontSize = '10px'; // Adjust the size
            gridItem.style.border = '2px solid rgb(154, 205, 153)';
            gridItem.style.backgroundColor = 'white'; // Default color for empty seats

            if (disabledGridArray.includes(gridItem.textContent)) {
                gridItem.style.backgroundColor = 'rgb(139, 139, 139)';
                gridItem.style.border = "none";
                gridItem.disabled = true;
            }
            // Add event listener to toggle selection
            gridItem.addEventListener('click', function () {
                if (selectedData.length >= 8 && gridItem.style.backgroundColor === 'white') {
                    alert('Maximum selection limit reached.');
                    return;
                }
                // Toggle selection by changing background color
                if (gridItem.style.backgroundColor === 'white') {
                    gridItem.style.backgroundColor = 'rgb(169, 0, 0)'; // Change to selected color
                    gridItem.style.color = "white";
                    gridItem.style.border = '2px solid rgb(169, 0, 0)';
                    selectedData.push(gridItem.textContent);


                } else {
                    gridItem.style.backgroundColor = 'white';
                    gridItem.style.border = '2px solid rgb(154, 205, 153)';
                    gridItem.style.color = "black";
                    const index = selectedData.indexOf(gridItem.textContent);
                    if (index !== -1) {
                        selectedData.splice(index, 1);
                    }
                    // Change back to default color
                }
                updateList();
            });

            gridcontainek.appendChild(gridItem);
        }
        function updateList() {
            // Clear the list
            debugger
            selectedList.innerHTML = '';
            selectedListcheckcount.innerHTML = '';
            price.textContent = 5 * selectedData.length;
            priceseat = 5 * selectedData.length;
            pricecheckcount.textContent = 5 * selectedData.length;
            listseat.value = selectedData;
            totalPriceFull();
            // Add each selected data to the list
            selectedData.forEach(function (data) {
                const listItem = document.createElement('span');
                const phay = document.createElement('span');
                const listItemcheckcount = document.createElement('span');
                const phaycheckcount = document.createElement('span');
                phay.textContent = ',';
                phay.style.color = "black";
                listItem.textContent = data;
                listItem.style.color = "black";
                phaycheckcount.textContent = ',';
                phaycheckcount.style.color = "black";
                listItemcheckcount.textContent = data;
                listItemcheckcount.style.color = "black";
                selectedList.appendChild(listItem);
                selectedList.appendChild(phay);
                selectedListcheckcount.appendChild(listItemcheckcount);
                selectedListcheckcount.appendChild(phaycheckcount);
            });
        }
    }

    // Initially create the grid

    createGrid();
</script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script>
    var totalPriceOfCombo = 0;

    function combodrink() {
        debugger
        const selectedList = document.getElementById('selectedList');
        var containekmain = document.querySelector("#containekmain");
        var containekmain2 = document.querySelector("#containekmain2");
        var checkcount = document.getElementById("checkcount");
        var checkcountbtngroup = document.getElementById("checkcountbtngroup");
        if (selectedList.textContent == "") {
            alert("Please select seat");
        } else {
            if (containekmain2.style.display != "block") {
                containekmain.style.display = "none";
                containekmain2.style.display = "block";
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            } else {
                document.getElementById("fu").style.display = "none";
                checkcountbtngroup.style.display = "flex";
                checkcount.style.display = "block";
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
                comboofcheckcount();
            }
        }
    }

    function seat() {

        var containekmain = document.querySelector("#containekmain");
        var containekmain2 = document.querySelector("#containekmain2");

        containekmain.style.display = "flex";
        containekmain2.style.display = "none";
        window.scrollTo({
            top: 100,
            behavior: 'smooth'
        });

    }


    function increment(index) {

        var selectcombo = document.getElementById("selectcombo");
        var selectcombocheckcount = document.getElementById("selectcombocheckcount");
        var combo = document.createElement("div");
        var combocheckcount = document.createElement("div");
        var price = document.getElementById("P" + index);
        var namecombo = document.getElementById("N" + index);
        var inputField = document.getElementById('I' + index);
        var currentValue = parseInt(inputField.value);
        var existingCombo = document.getElementById('C' + index);
        var existingCombocheckcount = document.getElementById('Cc' + index);

        // Remove the same name combo in list
        if (existingCombo) {
            selectcombo.removeChild(existingCombo);
            selectcombocheckcount.removeChild(existingCombocheckcount);
        }

        // Check current value
        if (currentValue < 4) {
            inputField.value = currentValue + 1;

            // Update total price
            var pri = price.value * 1;
            totalPriceOfCombo += pri;
            pricombo();
        } else {
            alert("Maximum is 4");
        }



        // Display combo
        combo.innerHTML = 'x' + inputField.value + namecombo.innerHTML;
        combo.id = 'C' + index;
        combo.style.color = "black";
        combocheckcount.innerHTML = 'x' + inputField.value + namecombo.innerHTML;
        combocheckcount.id = 'Cc' + index;
        combocheckcount.style.color = "black";
        selectcombo.appendChild(combo);
        selectcombocheckcount.appendChild(combocheckcount);
    }

    function decrement(index) {
        var combocheckcount = document.createElement("div");
        var combo = document.createElement("div");
        var selectcombocheckcount = document.getElementById("selectcombocheckcount");
        var selectcombo = document.getElementById("selectcombo");
        var namecombo = document.getElementById("N" + index);
        var inputField = document.getElementById('I' + index);
        var currentValue = parseInt(inputField.value);
        var existingCombo = document.getElementById('C' + index);
        var existingCombocheckcount = document.getElementById('Cc' + index);

        // Remove existing combo
        if (existingCombo) {
            selectcombo.removeChild(existingCombo);
            selectcombocheckcount.removeChild(existingCombocheckcount);
        }

        // Check current value
        if (currentValue > 0) {
            inputField.value = currentValue - 1;

            // Update total price
            if (inputField.value > 0) {
                var price = document.getElementById("P" + index);
                var pri = price.value * 1;
                totalPriceOfCombo -= pri;
                pricombo();
            }
        }


        // Display combo
        if (inputField.value > 0) {
            combo.innerHTML = 'x' + inputField.value + namecombo.innerHTML;
            combo.id = 'C' + index;
            combo.style.color = "black";
            combocheckcount.innerHTML = 'x' + inputField.value + namecombo.innerHTML;
            combocheckcount.id = 'Cc' + index;
            combocheckcount.style.color = "black";
            selectcombo.appendChild(combo);
            selectcombocheckcount.appendChild(combocheckcount);
        }
    }

    function comboofcheckcount() {
        debugger
        var listidcombo = document.getElementById("listidcombo");
        var listquantitycombo = document.getElementById("listquantitycombo");
        var numberi = document.querySelectorAll(".numberi");
        var idofcombo = document.querySelectorAll(".idofcombo");
        var listid = [];
        var listquantity = [];
        numberi.forEach(function (btn, index) {
            if (btn.value != 0) {
                listquantity.push(btn.value);  // Use btn.value instead of numberi.value
                listid.push(idofcombo[index].value);  // Use index to access the corresponding idofcombo value
            }
        })

        listidcombo.value = listid;
        listquantitycombo.value = listquantity;
    }


    function pricombo() {
        var pricecombo = document.getElementById("pricecombo");
        var pricecombocheckcount = document.getElementById("pricecombocheckcount");
        pricecombocheckcount.textContent = totalPriceOfCombo;
        pricecombo.textContent = totalPriceOfCombo;
        totalPriceFull();
    }

    function totalPriceFull() {
        var totalofbooking = document.getElementById("total_of_booking");
        var total = document.getElementById("totalpricefull");
        var totalcheckcount = document.getElementById("totalpricefullcheckcount");
        total.textContent = priceseat + totalPriceOfCombo;
        totalcheckcount.textContent = priceseat + totalPriceOfCombo;
        totalofbooking.value = priceseat + totalPriceOfCombo;
    }

</script>

<script>
    function checkseats() {
        debugger
        var listseat = document.getElementById("listseat").value;
        var showtime_id = document.getElementById("sh").value;
        $.ajax({
            url: '/Booking/CheckBooking',
            type: 'POST',
            data: {
                seats: listseat,
                showtime: showtime_id
            },
            success: function (response) {

                if (response == "True") {
                    swal({
                        title: "Success booking",
                        text: "You can see it in your profile",
                        timer: 2000,
                        buttons: false,
                    });

                    $("#myForm").submit();



                } else {
                    swal({
                        title: "Error to booking",
                        text: "The seats you selected have been booked",
                        icon: "error",

                    });
                }
            },
            error: function (xhr, status, error) {
                console.error(xhr.responseText);
            }
        });

    }
</script>
